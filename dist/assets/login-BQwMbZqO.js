import{s as c,c as l,A as u,a as d,b as g,t as m,u as f}from"./updateNav-DTGeWYsz.js";function b(e){return l(u,"POST",e)}async function p(e){e.preventDefault();const a=e.target,n=a.querySelector("fieldset"),t=a.querySelector("button"),s=t.textContent,r=new FormData(a),i=Object.fromEntries(r);n.disabled=!0,t.disabled=!0,t.textContent="Logging in...";try{const o=await b(i);localStorage.setItem("token",o.data.accessToken),localStorage.setItem("username",o.data.name),setTimeout(()=>{window.location.href="/"},1e3)}catch(o){c({message:"Login error: "+o.message,type:"error"})}finally{n.disabled=!1,t.disabled=!1,t.textContent=s}}const y=document.forms.login;y.addEventListener("submit",p);d();g();m();f();
